# 採用関連診断アプリ開発プラン（実装完了版）

## 提案する診断コンテンツ

### 1. 適職診断アプリ ✅ **実装完了**

- **機能**: 10問の質問による性格・価値観診断で、5つの職種タイプから最適なものを提案
- **実装状況**: MVP完成、自動進行機能付き
- **活用シーン**: 採用サイトでの初回訪問時、合同説明会での企業ブース誘導
- **技術詳細**: リアルタイム適性スコア算出、アニメーション付きUI

### 2. 企業カルチャーマッチ診断 🔄 **今後実装予定**

- **機能**: 求職者の働き方の価値観と企業文化の相性を診断
- **活用シーン**: 企業個別の採用サイト、採用イベントでの企業理解促進
- **カスタマイズ**: 各企業の独自の価値観や文化を反映した質問設計

### 3. キャリアタイプ診断 🔄 **今後実装予定**

- **機能**: 求職者のキャリア志向（スペシャリスト型/ゼネラリスト型など）を診断
- **活用シーン**: キャリアカウンセリング、転職相談会
- **カスタマイズ**: 業界特有のキャリアパスに合わせた診断ロジック

### 4. 業界適性診断 🔄 **今後実装予定**

- **機能**: 複数の業界への適性をスコア化して表示
- **活用シーン**: 合同企業説明会、業界研究イベント
- **カスタマイズ**: 特定業界群に特化した診断設計

## 追加機能のご提案

### オンラインガチャ機能 ✅ **実装完了**

- **ガチャシステム**: 診断完了後のポイント消費で採用のコツなどを獲得 ✅
- **ポイント制度**: 診断完了で10ポイント獲得、ガチャで10ポイント消費 ✅
- **報酬システム**: レアリティ別の報酬（common/uncommon/rare/legendary）✅
- **アニメーション**: Framer Motionによるガチャ演出 ✅

### エンゲージメント機能 ✅ **実装完了**

- **診断結果のシェア機能**: Web Share API + クリップボード対応 ✅
- **診断履歴管理**: 検索・削除・比較機能付きの履歴ページ ✅
- **結果比較機能**: 複数の診断結果を同時比較表示 ✅
- **削除機能**: 単体・複数選択による履歴削除 ✅

## 技術的な実装アプローチ

### セミオーダー型システム

- 基本の診断エンジンは共通化し、質問・結果・デザインをカスタマイズ
- 管理画面でクライアント企業が自社で質問や結果を編集できるCMS
- API連携で既存の採用管理システムやCRMとの連携

### 実装方針

1. **フレームワーク**: React/Next.jsでのSPA実装
2. **データベース**: 診断ロジックと結果をJSON形式で柔軟に管理
3. **認証**: 求職者の診断履歴を管理するための軽量な認証システム
4. **レスポンシブ対応**: PC・スマートフォン両方で快適な診断体験

## Vercelデプロイ向け技術スタック

### 採用技術

- **Next.js 15 (App Router)** - 最新版のNext.jsフレームワーク
  - Vercelとの完璧な統合
  - React Server Componentsによるパフォーマンス最適化
  - 型安全なルーティング

- **Tailwind CSS v3** - ユーティリティファーストCSS
  - 高速な開発とプロトタイピング
  - レスポンシブデザインの簡単実装
  - カスタマイズ可能なデザインシステム

- **Zustand** - 軽量状態管理ライブラリ
  - LocalStorageとの簡単な連携
  - TypeScriptの優れたサポート
  - React HooksベースのシンプルなAPI

- **shadcn/ui** - モダンUIコンポーネントライブラリ
  - カスタマイズ可能なコンポーネント
  - アクセシビリティ対応
  - Tailwind CSSとの完全統合

- **Framer Motion** - アニメーションライブラリ
  - 診断進行のスムーズなトランジション
  - ガチャ機能の演出効果
  - 結果表示のインタラクティブな体験

- **TypeScript 5.x** - 型安全性の確保
  - 開発時のエラー検出
  - 優れた開発体験とIDEサポート

### ディレクトリ構造

```bash
shindan-demo/
├── app/                      # Next.js App Router
│   ├── page.tsx             # ホームページ
│   ├── diagnosis/           # 診断ページ
│   │   └── [type]/
│   │       └── page.tsx
│   ├── results/             # 結果表示ページ
│   │   └── [id]/
│   │       └── page.tsx
│   └── gacha/               # ガチャページ
│       └── page.tsx
├── components/              # Reactコンポーネント
│   ├── ui/                  # shadcn/uiコンポーネント
│   ├── diagnosis/           # 診断関連コンポーネント
│   └── gacha/               # ガチャ関連コンポーネント
├── lib/                     # ユーティリティ関数
│   ├── diagnosis-logic/     # 診断ロジック
│   └── storage/             # LocalStorage管理
├── data/                    # 静的データ
│   ├── questions.json       # 質問データ
│   └── results.json         # 結果データ
└── public/                  # 静的アセット
```

### データ管理

#### LocalStorageデータ構造

```typescript
interface UserData {
  userId: string;                    // UUID (自動生成)
  completedDiagnoses: Diagnosis[];   // 完了した診断
  points: number;                    // 獲得ポイント
  unlockedRewards: Reward[];         // アンロックした報酬
  preferences: UserPreferences;      // ユーザー設定
}

interface Diagnosis {
  type: DiagnosisType;              // 診断タイプ
  answers: Answer[];                // 回答内容
  result: DiagnosisResult;          // 診断結果
  completedAt: string;              // 完了日時
}

interface Reward {
  id: string;                       // 報酬ID
  type: RewardType;                 // 報酬タイプ
  unlockedAt: string;               // 獲得日時
}
```

#### データ永続化戦略

- ユーザーIDはUUIDで自動生成し、LocalStorageに保存
- 診断データは即座にLocalStorageに保存
- データ容量制限（5MB）を考慮した古いデータの自動削除機能
- エクスポート/インポート機能で診断履歴のバックアップ対応

## 想定される効果

- 求職者との接点創出とエンゲージメント向上
- 診断結果による企業と求職者のマッチング精度向上
- イベントでの集客・滞在時間の増加
- SNSシェアによる認知拡大

## 実装完了状況 (2025年1月)

### ✅ 完成済み機能
- **基本診断機能**: 適職診断（10問）+ 自動進行
- **データ管理**: LocalStorage永続化 + 整合性チェック
- **エンゲージメント**: ガチャ・履歴・比較・共有・削除機能
- **UX/UI**: レスポンシブデザイン + アニメーション
- **メンテナンス**: デバッグページ + データ修復機能

### 🐛 修正済みバグ
1. **診断重複作成**: useEffect依存関係の修正
2. **ガチャ重複キー**: 一意キー生成の実装
3. **データ破損**: 自動検出・修復機能の追加

### 🚀 デプロイ準備完了
- Vercelでのゼロコンフィグデプロイ対応
- 本番環境でのテスト完了
- パフォーマンス最適化済み
